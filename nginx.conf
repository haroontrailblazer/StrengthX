events {}

http {
    server {
        listen $PORT;

        # robots.txt
        location = /robots.txt {
            alias /main/static/robots.txt;
        }

        # sitemap.xml
        location = /sitemap.xml {
            alias /main/static/sitemap.xml;
        }

        # Google verification file
        location = /googleee00d3585342fc79.html {
            alias /main/static/googleee00d3585342fc79.html;
        }

        # Proxy everything else to Streamlit (running on internal 8501)
        location / {
            proxy_pass http://localhost:8501;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }
    }
}
